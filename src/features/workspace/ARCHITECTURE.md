# PronaFlow Workspace Feature - Visual Architecture & Data Flow

## ğŸ—ï¸ Complete Architecture Diagram

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      USER INTERFACE LAYER                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    Pages (2)                             â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â€¢ WorkspaceListPage          (List all workspaces)     â”‚   â”‚
â”‚  â”‚  â€¢ WorkspaceDetailPage        (Detail with tabs)        â”‚   â”‚
â”‚  â”‚    - Members tab              (List + manage members)   â”‚   â”‚
â”‚  â”‚    - Invitations tab          (Manage invitations)      â”‚   â”‚
â”‚  â”‚    - Settings tab             (Configure workspace)     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                 Components (10+)                         â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â€¢ WorkspaceCard        (Display workspace)             â”‚   â”‚
â”‚  â”‚  â€¢ MemberCard          (Display member)                 â”‚   â”‚
â”‚  â”‚  â€¢ InvitationCard      (Display invitation)             â”‚   â”‚
â”‚  â”‚  â€¢ Dialogs (7)         (Confirmations, actions)         â”‚   â”‚
â”‚  â”‚  â€¢ Forms (4)           (Input forms with validation)    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†“                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Styling & Icons                             â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â€¢ Tailwind CSS        (Layout, responsive)             â”‚   â”‚
â”‚  â”‚  â€¢ Radix UI            (Headless components)            â”‚   â”‚
â”‚  â”‚  â€¢ Lucide React        (Icons)                          â”‚   â”‚
â”‚  â”‚  â€¢ Sonner              (Toast notifications)            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  STATE MANAGEMENT LAYER                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚   React Query        â”‚    â”‚   Zustand Store              â”‚   â”‚
â”‚  â”‚  (Server State)      â”‚    â”‚  (Client State)              â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚ â€¢ Query Caching      â”‚    â”‚ â€¢ currentWorkspace           â”‚   â”‚
â”‚  â”‚ â€¢ Auto Invalidation  â”‚    â”‚ â€¢ currentUserRole            â”‚   â”‚
â”‚  â”‚ â€¢ Pagination         â”‚    â”‚ â€¢ Filters                    â”‚   â”‚
â”‚  â”‚ â€¢ Loading States     â”‚    â”‚ â€¢ Permission Selectors       â”‚   â”‚
â”‚  â”‚ â€¢ Error Handling     â”‚    â”‚ â€¢ localStorage Persistence   â”‚   â”‚
â”‚  â”‚                      â”‚    â”‚ â€¢ Redux DevTools             â”‚   â”‚
â”‚  â”‚ Cache Stale Times:   â”‚    â”‚                              â”‚   â”‚
â”‚  â”‚ â€¢ Workspaces: 5min   â”‚    â”‚ Actions:                     â”‚   â”‚
â”‚  â”‚ â€¢ Members: 2min      â”‚    â”‚ â€¢ setCurrentWorkspace()      â”‚   â”‚
â”‚  â”‚ â€¢ Settings: 5min     â”‚    â”‚ â€¢ clearCurrentWorkspace()    â”‚   â”‚
â”‚  â”‚ â€¢ Logs: 1min         â”‚    â”‚ â€¢ setFilters()               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚           â†“                           â†“                          â”‚
â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                â”‚
â”‚    â”‚    22 Custom Hooks (useWorkspace.ts)      â”‚                â”‚
â”‚    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤                â”‚
â”‚    â”‚ Query Hooks (10):                         â”‚                â”‚
â”‚    â”‚ â€¢ useWorkspaces() â†’ List workspaces       â”‚                â”‚
â”‚    â”‚ â€¢ useWorkspace(id) â†’ Get workspace        â”‚                â”‚
â”‚    â”‚ â€¢ useWorkspaceMembers(id) â†’ List members  â”‚                â”‚
â”‚    â”‚ â€¢ useInvitations(id) â†’ List invitations   â”‚                â”‚
â”‚    â”‚ â€¢ useWorkspaceSettings(id) â†’ Settings     â”‚                â”‚
â”‚    â”‚ â€¢ useAccessLogs(id) â†’ Access history      â”‚                â”‚
â”‚    â”‚ â€¢ ... more                                â”‚                â”‚
â”‚    â”‚                                           â”‚                â”‚
â”‚    â”‚ Mutation Hooks (11):                      â”‚                â”‚
â”‚    â”‚ â€¢ useCreateWorkspace() â†’ Create           â”‚                â”‚
â”‚    â”‚ â€¢ useUpdateWorkspace(id) â†’ Update         â”‚                â”‚
â”‚    â”‚ â€¢ useDeleteWorkspace(id) â†’ Delete         â”‚                â”‚
â”‚    â”‚ â€¢ useAddMember(id) â†’ Add member           â”‚                â”‚
â”‚    â”‚ â€¢ useSendInvitation(id) â†’ Send invite     â”‚                â”‚
â”‚    â”‚ â€¢ useUpdateSettings(id) â†’ Update settings â”‚                â”‚
â”‚    â”‚ â€¢ ... more                                â”‚                â”‚
â”‚    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   API SERVICE LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚          workspaceService.ts (Singleton Pattern)                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  Interceptors:                                            â”‚   â”‚
â”‚  â”‚  â€¢ Bearer Token Auto-Attach                              â”‚   â”‚
â”‚  â”‚  â€¢ 401 Redirect to Login                                 â”‚   â”‚
â”‚  â”‚  â€¢ Request/Response Logging                              â”‚   â”‚
â”‚  â”‚  â€¢ Error Transformation                                  â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  16 API Methods:                                          â”‚   â”‚
â”‚  â”‚  â€¢ createWorkspace(data)                                 â”‚   â”‚
â”‚  â”‚  â€¢ listWorkspaces(skip, limit)                           â”‚   â”‚
â”‚  â”‚  â€¢ getWorkspace(id)                                      â”‚   â”‚
â”‚  â”‚  â€¢ updateWorkspace(id, data)                             â”‚   â”‚
â”‚  â”‚  â€¢ deleteWorkspace(id)                                   â”‚   â”‚
â”‚  â”‚  â€¢ addMember(id, userId, role)                           â”‚   â”‚
â”‚  â”‚  â€¢ listMembers(id, skip, limit)                          â”‚   â”‚
â”‚  â”‚  â€¢ updateMember(id, userId, role)                        â”‚   â”‚
â”‚  â”‚  â€¢ removeMember(id, userId)                              â”‚   â”‚
â”‚  â”‚  â€¢ sendInvitation(id, email, role)                       â”‚   â”‚
â”‚  â”‚  â€¢ listInvitations(id, skip, limit)                      â”‚   â”‚
â”‚  â”‚  â€¢ cancelInvitation(id, invitationId)                    â”‚   â”‚
â”‚  â”‚  â€¢ resendInvitation(id, invitationId)                    â”‚   â”‚
â”‚  â”‚  â€¢ getSettings(id)                                       â”‚   â”‚
â”‚  â”‚  â€¢ updateSettings(id, settings)                          â”‚   â”‚
â”‚  â”‚  â€¢ logAccess(id)                                         â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      BACKEND API LAYER                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  FastAPI Endpoints (17+)                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  Workspace Operations:                                    â”‚   â”‚
â”‚  â”‚  â€¢ POST   /workspaces                                     â”‚   â”‚
â”‚  â”‚  â€¢ GET    /workspaces                                     â”‚   â”‚
â”‚  â”‚  â€¢ GET    /workspaces/{id}                                â”‚   â”‚
â”‚  â”‚  â€¢ PATCH  /workspaces/{id}                                â”‚   â”‚
â”‚  â”‚  â€¢ DELETE /workspaces/{id}                                â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  Member Management:                                       â”‚   â”‚
â”‚  â”‚  â€¢ POST   /workspaces/{id}/members                        â”‚   â”‚
â”‚  â”‚  â€¢ GET    /workspaces/{id}/members                        â”‚   â”‚
â”‚  â”‚  â€¢ PATCH  /workspaces/{id}/members/{user_id}             â”‚   â”‚
â”‚  â”‚  â€¢ DELETE /workspaces/{id}/members/{user_id}             â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  Invitations:                                             â”‚   â”‚
â”‚  â”‚  â€¢ POST   /workspaces/{id}/invitations                    â”‚   â”‚
â”‚  â”‚  â€¢ GET    /workspaces/{id}/invitations                    â”‚   â”‚
â”‚  â”‚  â€¢ DELETE /workspaces/{id}/invitations/{id}               â”‚   â”‚
â”‚  â”‚  â€¢ POST   /workspaces/{id}/invitations/{id}/resend        â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  Settings & Logs:                                         â”‚   â”‚
â”‚  â”‚  â€¢ GET    /workspaces/{id}/settings                       â”‚   â”‚
â”‚  â”‚  â€¢ PATCH  /workspaces/{id}/settings                       â”‚   â”‚
â”‚  â”‚  â€¢ GET    /workspaces/{id}/access-logs                    â”‚   â”‚
â”‚  â”‚  â€¢ POST   /workspaces/{id}/access-logs                    â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    DATABASE LAYER                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  PostgreSQL Database                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  Tables (5):                                              â”‚   â”‚
â”‚  â”‚  â€¢ workspace                (Workspace data)              â”‚   â”‚
â”‚  â”‚  â€¢ workspace_member         (Member relationships)        â”‚   â”‚
â”‚  â”‚  â€¢ workspace_invitation     (Pending invitations)         â”‚   â”‚
â”‚  â”‚  â€¢ workspace_access_log     (Audit trail)                 â”‚   â”‚
â”‚  â”‚  â€¢ workspace_setting        (Configuration)               â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â”‚  Features:                                                â”‚   â”‚
â”‚  â”‚  â€¢ Soft delete support                                    â”‚   â”‚
â”‚  â”‚  â€¢ UUID primary keys                                      â”‚   â”‚
â”‚  â”‚  â€¢ Proper indexes                                         â”‚   â”‚
â”‚  â”‚  â€¢ Constraints & relationships                            â”‚   â”‚
â”‚  â”‚  â€¢ Audit timestamps                                       â”‚   â”‚
â”‚  â”‚                                                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Data Flow Diagram

```
USER CLICKS BUTTON
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Component               â”‚
â”‚   (Page/Modal/Form)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Custom Hook                   â”‚
â”‚   (useCreateWorkspace, etc)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Hook Form               â”‚
â”‚   + Zod Validation              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“ (if valid)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Query Mutation           â”‚
â”‚   (mutateAsync called)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Service                   â”‚
â”‚   (workspaceService)            â”‚
â”‚                                 â”‚
â”‚   - Attach Bearer Token         â”‚
â”‚   - Validate request            â”‚
â”‚   - Send to backend             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
   HTTPS Request
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FastAPI Backend               â”‚
â”‚   (API Endpoint)                â”‚
â”‚                                 â”‚
â”‚   - Verify token               â”‚
â”‚   - Check permissions          â”‚
â”‚   - Validate data              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Database Operation            â”‚
â”‚   (SQLAlchemy ORM)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Response                      â”‚
â”‚   (JSON)                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
   HTTPS Response
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   API Service                   â”‚
â”‚   (Response Interceptor)        â”‚
â”‚                                 â”‚
â”‚   - Check status code           â”‚
â”‚   - Transform data              â”‚
â”‚   - Log result                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   React Query                   â”‚
â”‚   (Update cache)                â”‚
â”‚   (Invalidate related queries)  â”‚
â”‚   (Trigger refetch)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Zustand Store                 â”‚
â”‚   (Update client state)         â”‚
â”‚   (localStorage sync)           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Toast Notification            â”‚
â”‚   (Success/Error message)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Component Re-render           â”‚
â”‚   (New data from hooks)         â”‚
â”‚   (UI updates)                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â†“
   USER SEES RESULT
```

---

## ğŸ”„ State Management Flow

```
                    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                    â”‚   User Interactionâ”‚
                    â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     React Component (Page/Form)         â”‚
        â”‚                                         â”‚
        â”‚  â€¢ Form submission                      â”‚
        â”‚  â€¢ Button click                         â”‚
        â”‚  â€¢ User input                           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Custom Hook      â”‚  â”‚  Form Validation â”‚
        â”‚ (useCreateWS)     â”‚  â”‚  (React Hook Formâ”‚
        â”‚                   â”‚  â”‚   + Zod)         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“                      â†“
                  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                             â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  React Query Mutation                   â”‚
        â”‚                                         â”‚
        â”‚  â€¢ Loading state: true                  â”‚
        â”‚  â€¢ Execute mutation                     â”‚
        â”‚  â€¢ Handle response                      â”‚
        â”‚  â€¢ On success:                          â”‚
        â”‚    - Loading: false                     â”‚
        â”‚    - Data updated                       â”‚
        â”‚    - Invalidate queries                 â”‚
        â”‚    - Toast: success                     â”‚
        â”‚  â€¢ On error:                            â”‚
        â”‚    - Loading: false                     â”‚
        â”‚    - Error set                          â”‚
        â”‚    - Toast: error                       â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â†“                    â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚ Zustand Store   â”‚  â”‚ Query Cache     â”‚
        â”‚                 â”‚  â”‚                 â”‚
        â”‚ Update state    â”‚  â”‚ Invalidate      â”‚
        â”‚ Save to storage â”‚  â”‚ Refetch         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                    â”‚
                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  Component Re-render                    â”‚
        â”‚                                         â”‚
        â”‚  â€¢ Hook returns new state               â”‚
        â”‚  â€¢ Component uses new data              â”‚
        â”‚  â€¢ UI updates                           â”‚
        â”‚  â€¢ User sees result                     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ” Authentication Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  User Login (in Auth Module)         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  JWT Token Received                  â”‚
â”‚  Stored in localStorage              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  API Request Made                    â”‚
â”‚  (via workspaceService)              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Request Interceptor                 â”‚
â”‚  (in workspaceService)               â”‚
â”‚                                      â”‚
â”‚  â€¢ Get token from localStorage       â”‚
â”‚  â€¢ Add to headers:                   â”‚
â”‚    Authorization: Bearer TOKEN       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
          HTTPS Request
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  FastAPI Backend                     â”‚
â”‚                                      â”‚
â”‚  â€¢ Verify token                      â”‚
â”‚  â€¢ Extract user info                 â”‚
â”‚  â€¢ Check permissions                 â”‚
â”‚  â€¢ Execute operation                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â†“
          Response (200/201/401/403...)
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Response Interceptor                â”‚
â”‚                                      â”‚
â”‚  â€¢ If 401 Unauthorized:              â”‚
â”‚    - Clear token                     â”‚
â”‚    - Redirect to login               â”‚
â”‚    - Toast error                     â”‚
â”‚                                      â”‚
â”‚  â€¢ If 403 Forbidden:                 â”‚
â”‚    - Toast error                     â”‚
â”‚    - Block operation                 â”‚
â”‚                                      â”‚
â”‚  â€¢ If 200/201 Success:               â”‚
â”‚    - Return data                     â”‚
â”‚    - Update store                    â”‚
â”‚    - Toast success                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ Component Hierarchy

```
App
â””â”€â”€ Layout
    â””â”€â”€ Navigation
        â””â”€â”€ Link to /workspaces
            â”‚
            â”œâ”€â”€ WorkspaceListPage
            â”‚   â”œâ”€â”€ useWorkspaces hook
            â”‚   â””â”€â”€ Grid of WorkspaceCards
            â”‚       â”œâ”€â”€ WorkspaceCard
            â”‚       â”‚   â”œâ”€â”€ Dropdown menu
            â”‚       â”‚   â”œâ”€â”€ Edit action
            â”‚       â”‚   â”œâ”€â”€ Delete action
            â”‚       â”‚   â””â”€â”€ Manage members action
            â”‚       â””â”€â”€ CreateWorkspaceModal
            â”‚           â””â”€â”€ CreateWorkspaceForm
            â”‚
            â””â”€â”€ WorkspaceDetailPage
                â”œâ”€â”€ useWorkspace hook
                â””â”€â”€ Tabs
                    â”œâ”€â”€ Members Tab
                    â”‚   â”œâ”€â”€ useWorkspaceMembers hook
                    â”‚   â”œâ”€â”€ Grid of MemberCards
                    â”‚   â”‚   â””â”€â”€ MemberCard
                    â”‚   â”‚       â”œâ”€â”€ Change role
                    â”‚   â”‚       â””â”€â”€ Remove member
                    â”‚   â””â”€â”€ InviteUserDialog
                    â”‚
                    â”œâ”€â”€ Invitations Tab
                    â”‚   â”œâ”€â”€ useInvitations hook
                    â”‚   â””â”€â”€ Grid of InvitationCards
                    â”‚       â””â”€â”€ InvitationCard
                    â”‚           â”œâ”€â”€ Cancel action
                    â”‚           â”œâ”€â”€ Resend action
                    â”‚           â””â”€â”€ Copy email action
                    â”‚
                    â””â”€â”€ Settings Tab
                        â”œâ”€â”€ useWorkspaceSettings hook
                        â””â”€â”€ WorkspaceSettingsForm
```

---

## ğŸ’¾ Database Schema

```
workspace
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ name (String, required)
â”œâ”€â”€ description (String, optional)
â”œâ”€â”€ owner_id (UUID, FK â†’ User)
â”œâ”€â”€ status (Enum: active|archived|deleted)
â”œâ”€â”€ created_at (DateTime)
â”œâ”€â”€ updated_at (DateTime)
â””â”€â”€ deleted_at (DateTime, soft delete)

workspace_member
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ workspace_id (UUID, FK)
â”œâ”€â”€ user_id (UUID, FK â†’ User)
â”œâ”€â”€ role (Enum: owner|admin|member)
â”œâ”€â”€ joined_at (DateTime)
â”œâ”€â”€ updated_at (DateTime)
â””â”€â”€ deleted_at (DateTime, soft delete)

workspace_invitation
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ workspace_id (UUID, FK)
â”œâ”€â”€ invited_email (String, required)
â”œâ”€â”€ invited_role (Enum: owner|admin|member)
â”œâ”€â”€ token (String, unique)
â”œâ”€â”€ status (Enum: pending|accepted|declined)
â”œâ”€â”€ expires_at (DateTime)
â”œâ”€â”€ created_at (DateTime)
â””â”€â”€ deleted_at (DateTime, soft delete)

workspace_access_log
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ workspace_id (UUID, FK)
â”œâ”€â”€ user_id (UUID, FK â†’ User)
â”œâ”€â”€ action (String)
â”œâ”€â”€ details (JSON, optional)
â”œâ”€â”€ ip_address (String, optional)
â”œâ”€â”€ user_agent (String, optional)
â”œâ”€â”€ created_at (DateTime)
â””â”€â”€ deleted_at (DateTime, soft delete)

workspace_setting
â”œâ”€â”€ id (UUID, PK)
â”œâ”€â”€ workspace_id (UUID, FK)
â”œâ”€â”€ timezone (String, optional)
â”œâ”€â”€ work_days (Array[Int], optional)
â”œâ”€â”€ work_hours (JSON, optional)
â”œâ”€â”€ logo_url (String, optional)
â”œâ”€â”€ created_at (DateTime)
â”œâ”€â”€ updated_at (DateTime)
â””â”€â”€ deleted_at (DateTime, soft delete)
```

---

## ğŸ”„ Query Cache Strategy

```
useWorkspaces() â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”œâ”€â†’ Cache expires after 5 minutes
                         â”œâ”€â†’ Invalidated on:
                         â”‚   â€¢ createWorkspace
                         â”‚   â€¢ updateWorkspace
                         â”‚   â€¢ deleteWorkspace
                         â””â”€â†’ Manual refetch available

useWorkspace(id) â”€â”€â”€â”€â”€â”€â”€â”€â”
                         â”œâ”€â†’ Cache expires after 5 minutes
                         â”œâ”€â†’ Invalidated on:
                         â”‚   â€¢ updateWorkspace
                         â”‚   â€¢ deleteWorkspace
                         â””â”€â†’ Manual refetch available

useWorkspaceMembers(id)â”€â”
                        â”œâ”€â†’ Cache expires after 2 minutes
                        â”œâ”€â†’ Invalidated on:
                        â”‚   â€¢ addMember
                        â”‚   â€¢ updateMember
                        â”‚   â€¢ removeMember
                        â””â”€â†’ Manual refetch available

useInvitations(id) â”€â”€â”€â”€â”
                       â”œâ”€â†’ Cache expires after 5 minutes
                       â”œâ”€â†’ Invalidated on:
                       â”‚   â€¢ sendInvitation
                       â”‚   â€¢ cancelInvitation
                       â”‚   â€¢ resendInvitation
                       â””â”€â†’ Manual refetch available

useWorkspaceSettings(id)â”
                        â”œâ”€â†’ Cache expires after 5 minutes
                        â”œâ”€â†’ Invalidated on:
                        â”‚   â€¢ updateSettings
                        â””â”€â†’ Manual refetch available

useAccessLogs(id) â”€â”€â”€â”€â”€â”
                       â”œâ”€â†’ Cache expires after 1 minute
                       â”œâ”€â†’ Invalidated on:
                       â”‚   â€¢ logAccess
                       â””â”€â†’ Manual refetch available
```

---

## ğŸ¨ UI Component Hierarchy

```
Workspace Feature
â”‚
â”œâ”€â”€ Page Components
â”‚   â”œâ”€â”€ WorkspaceListPage
â”‚   â”‚   â”œâ”€â”€ Header (with Create button)
â”‚   â”‚   â”œâ”€â”€ Grid/List Container
â”‚   â”‚   â”œâ”€â”€ WorkspaceCard (repeating)
â”‚   â”‚   â”‚   â”œâ”€â”€ Card wrapper
â”‚   â”‚   â”‚   â”œâ”€â”€ Workspace info
â”‚   â”‚   â”‚   â”œâ”€â”€ Status badge
â”‚   â”‚   â”‚   â”œâ”€â”€ Dropdown menu
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Edit action
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Delete action
â”‚   â”‚   â”‚   â”‚   â”œâ”€â”€ Manage members
â”‚   â”‚   â”‚   â”‚   â””â”€â”€ Manage settings
â”‚   â”‚   â”‚   â””â”€â”€ Timestamps
â”‚   â”‚   â””â”€â”€ Pagination
â”‚   â”‚
â”‚   â””â”€â”€ WorkspaceDetailPage
â”‚       â”œâ”€â”€ Header (with back button)
â”‚       â”œâ”€â”€ Workspace info
â”‚       â”œâ”€â”€ Tabs
â”‚       â”‚   â”œâ”€â”€ Members Tab
â”‚       â”‚   â”‚   â”œâ”€â”€ Invite button
â”‚       â”‚   â”‚   â””â”€â”€ MemberCard (repeating)
â”‚       â”‚   â”‚       â”œâ”€â”€ Member info
â”‚       â”‚   â”‚       â”œâ”€â”€ Role display
â”‚       â”‚   â”‚       â”œâ”€â”€ Change role
â”‚       â”‚   â”‚       â””â”€â”€ Remove button
â”‚       â”‚   â”‚
â”‚       â”‚   â”œâ”€â”€ Invitations Tab
â”‚       â”‚   â”‚   â”œâ”€â”€ Send invitation button
â”‚       â”‚   â”‚   â””â”€â”€ InvitationCard (repeating)
â”‚       â”‚   â”‚       â”œâ”€â”€ Email display
â”‚       â”‚   â”‚       â”œâ”€â”€ Expiry countdown
â”‚       â”‚   â”‚       â”œâ”€â”€ Copy button
â”‚       â”‚   â”‚       â”œâ”€â”€ Resend button
â”‚       â”‚   â”‚       â””â”€â”€ Cancel button
â”‚       â”‚   â”‚
â”‚       â”‚   â””â”€â”€ Settings Tab
â”‚       â”‚       â””â”€â”€ WorkspaceSettingsForm
â”‚       â”‚           â”œâ”€â”€ Timezone field
â”‚       â”‚           â”œâ”€â”€ Work days field
â”‚       â”‚           â”œâ”€â”€ Work hours field
â”‚       â”‚           â”œâ”€â”€ Logo URL field
â”‚       â”‚           â””â”€â”€ Save button
â”‚       â”‚
â”‚       â””â”€â”€ Loading/Error states
â”‚
â”œâ”€â”€ Dialog Components
â”‚   â”œâ”€â”€ EditWorkspaceDialog
â”‚   â”œâ”€â”€ DeleteWorkspaceDialog
â”‚   â”œâ”€â”€ InviteUserDialog
â”‚   â”œâ”€â”€ ChangeMemberRoleDialog
â”‚   â”œâ”€â”€ RemoveMemberDialog
â”‚   â”œâ”€â”€ CancelInvitationDialog
â”‚   â””â”€â”€ BatchOperationsDialog
â”‚
â”œâ”€â”€ Form Components
â”‚   â”œâ”€â”€ CreateWorkspaceForm
â”‚   â”œâ”€â”€ UpdateWorkspaceForm
â”‚   â”œâ”€â”€ InviteUserForm
â”‚   â””â”€â”€ WorkspaceSettingsForm
â”‚
â””â”€â”€ Supporting Components
    â”œâ”€â”€ Loading skeleton
    â”œâ”€â”€ Error boundary
    â”œâ”€â”€ Empty states
    â””â”€â”€ Toast notifications
```

---

## ğŸ“± Responsive Breakpoints

```
Mobile (< 640px)
â”œâ”€â”€ Single column layout
â”œâ”€â”€ Full-width cards
â”œâ”€â”€ Stacked forms
â””â”€â”€ Bottom sheet dialogs

Tablet (640px - 1024px)
â”œâ”€â”€ 2 column grid
â”œâ”€â”€ Responsive spacing
â”œâ”€â”€ Side-by-side forms
â””â”€â”€ Center dialogs

Desktop (> 1024px)
â”œâ”€â”€ 3 column grid
â”œâ”€â”€ Expanded views
â”œâ”€â”€ Multi-column forms
â””â”€â”€ Centered dialogs
```

---

**Workspace Feature Architecture** | Complete Visual Reference | âœ… Ready for Development
